<h3>WeekCalendar</h3>

<div class="week-container"> 
    @foreach (var Day in _weekCalendar.WeekDays)
    {
        if(IsCurrentDay(Day)){
            <MudCard class="day-of-week today"  >
                <MudCardHeader>
                <CardHeaderContent>
                    <MudText>Today is</MudText>
                    <MudText Typo="Typo.h6" >@Day.DayOfWeek</MudText>             
                </CardHeaderContent>
            </MudCardHeader>
                <MudCardContent>
                    
                    <MudText>@Day.ToString("dd MMMM yyyy")</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary" @onclick="GetTasks">View Tasks</MudButton>
                </MudCardActions>
            </MudCard>
        }else{
            <MudCard class="day-of-week">
                <MudCardHeader>
                <CardHeaderContent>
                    <MudText class="invisible">Today is</MudText>
                    <MudText Typo="Typo.h6" >@Day.DayOfWeek</MudText>
                </CardHeaderContent>
            </MudCardHeader>
                <MudCardContent>
                    <MudText>@Day.ToString("dd MMMM yyyy")</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary" @onclick="GetTasks" >View Tasks</MudButton>
                </MudCardActions>
            </MudCard>
        }

    }
</div>
<style>
    .day-of-week {
        width: 12% !important;
        margin-left: 10px;
        margin-right: 10px;
    }
    .week-container{
        display: flex;
        flex-direction: row;
        margin-bottom:10px;
    }
    .today{
        outline:auto;
        outline-width:1px;
        outline-color:aquamarine;
    }
    .invisible{
        visibility:hidden;
    }
</style>

@code {

    public WeekCalendarModel _weekCalendar;
    public DayOfWeek _currentDay;
    protected override void OnInitialized()
    {
        _weekCalendar = new WeekCalendarModel();
        _currentDay = _weekCalendar.CurrentDayOfWeek;
    }
    public bool IsCurrentDay(DateTime day){
        if(day.DayOfWeek==_currentDay){
            return true;
        }
        return false;
    }

    public void GetTasks(){}
}
